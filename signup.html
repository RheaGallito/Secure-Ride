<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up</title>
  <link rel="stylesheet" href="signup.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <div class="container">
    <h1>Sign Up</h1>
    <div class="profile-pic" id="profilePic">
      <svg xmlns="http://www.w3.org/2000/svg" width="12em" height="12em" viewBox="0 0 24 24">
        <g fill="none">
          <path stroke="currentColor" d="M21 12a8.96 8.96 0 0 1-1.526 5.016A8.99 8.99 0 0 1 12 21a8.99 8.99 0 0 1-7.474-3.984A9 9 0 1 1 21 12Z"/>
          <path fill="currentColor" d="M13.5 9a1.5 1.5 0 0 1-1.5 1.5v1A2.5 2.5 0 0 0 14.5 9zM12 10.5A1.5 1.5 0 0 1 10.5 9h-1a2.5 2.5 0 0 0 2.5 2.5zM10.5 9A1.5 1.5 0 0 1 12 7.5v-1A2.5 2.5 0 0 0 9.5 9zM12 7.5A1.5 1.5 0 0 1 13.5 9h1A2.5 2.5 0 0 0 12 6.5z"/>
        </g>
      </svg>
    </div>
    <div class="add-photo">
      <button id="addPhotoBtn">Add Photo</button>
      <input type="file" id="fileInput" style="display: none;">
    </div>
    <input class="input-field" id="fullname" placeholder="Fullname" type="text"/>
    <input class="input-field" id="address" placeholder="Address" type="text"/>
    <input class="input-field" id="username" placeholder="Username" type="text"/>
    <input class="input-field" id="phone" placeholder="Phone Number" type="text"/>
    <input class="input-field" id="password" placeholder="Password" type="password"/>
    <input class="input-field" id="email" placeholder="Email" type="email"/>
    <button class="register-btn" id="registerBtn">REGISTER</button>
    <a class="sign-in-link" href="login.html">‚Üê SIGN IN</a>
  </div>

  <script>
    document.getElementById('addPhotoBtn').addEventListener('click', function() {
      document.getElementById('fileInput').click();
    });

    document.getElementById('fileInput').addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const profilePic = e.target.result;

          // Update the preview of the profile picture
          const img = document.createElement('img');
          img.src = profilePic;
          img.alt = 'Profile Picture';
          img.style.width = '12em';
          img.style.height = '12em';
          img.style.borderRadius = '50%';
          img.style.objectFit = 'cover';

          const profilePicDiv = document.getElementById('profilePic');
          profilePicDiv.innerHTML = ''; // Clear existing content
          profilePicDiv.appendChild(img);
        };
        reader.readAsDataURL(file);
      }
    });

    document.getElementById('registerBtn').addEventListener('click', function() {
      const fullname = document.getElementById('fullname').value;
      const address = document.getElementById('address').value;
      const username = document.getElementById('username').value;
      const phone = document.getElementById('phone').value;
      const password = document.getElementById('password').value;
      const email = document.getElementById('email').value;

      const fileInput = document.getElementById('fileInput');
      const profilePicFile = fileInput.files[0];

      if (!fullname || !address || !username || !phone || !password || !email) {
        Swal.fire({
          icon: 'error',
          title: 'Oops...',
          text: 'Please fill in all fields!',
        });
        return;
      }

      const reader = new FileReader();
      reader.onload = function(event) {
        const profilePic = event.target.result;

        const userData = {
          fullname: fullname,
          address: address,
          username: username,
          phone: phone,
          password: password,
          email: email,
          profilePic: profilePic,
        };

        localStorage.setItem('registeredUser', JSON.stringify(userData));

        Swal.fire({
          title: 'Registration Successful!',
          text: 'Thank you for signing up.',
          icon: 'success',
          confirmButtonText: 'OK'
        }).then(() => {
          window.location.href = 'login.html';
        });
      };

      if (profilePicFile) {
        reader.readAsDataURL(profilePicFile);
      } else {
        Swal.fire({
          icon: 'error',
          title: 'Profile Picture Missing',
          text: 'Please upload a profile picture.',
        });
      }
    });
  </script>
</body>
</html>


